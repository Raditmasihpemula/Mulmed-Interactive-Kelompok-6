<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<title>Piano Game</title>

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #6dd5ed, #2193b0);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ================= WRAPPER ================= */
.wrapper {
  background: rgba(255,255,255,0.95);
  padding: 30px 32px 32px;
  border-radius: 24px;
  box-shadow: 0 25px 60px rgba(0,0,0,0.25);
  text-align: center;
  animation: fadeIn 0.8s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}

h1 {
  font-size: 36px;
  margin: 0 0 6px;
  color: #ff6f61; /* fallback aman */

  background: linear-gradient(90deg, #ff8a00, #e52e71);
}

/* aktifkan gradient text hanya jika didukung */
@supports (-webkit-background-clip: text) or (background-clip: text) {
  h1 {
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
}

.subtitle {
  font-size: 15px;
  color: #555;
  margin-bottom: 20px;
}

/* ================= BUTTON ================= */
.start-btn {
  position: relative;
  margin-bottom: 26px;
  padding: 14px 38px;
  font-size: 18px;
  font-weight: bold;
  color: #fff;
  background: linear-gradient(135deg, #43cea2, #185a9d);
  border: none;
  border-radius: 50px;
  cursor: pointer;
  box-shadow: 0 10px 25px rgba(67,206,162,0.45);
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  animation: pulse 1.8s infinite;
}

.start-btn:hover {
  transform: translateY(-2px) scale(1.04);
  box-shadow: 0 18px 40px rgba(67,206,162,0.7);
}

.start-btn:active {
  transform: scale(0.96);
}

@keyframes pulse {
  0%   { box-shadow: 0 0 0 0 rgba(67,206,162,0.6); }
  70%  { box-shadow: 0 0 0 18px rgba(67,206,162,0); }
  100% { box-shadow: 0 0 0 0 rgba(67,206,162,0); }
}

/* ================= PIANO ================= */
.piano {
  position: relative;
  background: linear-gradient(145deg, #2b2b2b, #1e1e1e);
  padding: 16px;
  border-radius: 18px;
  box-shadow:
    inset 0 2px 4px rgba(255,255,255,0.1),
    0 10px 30px rgba(0,0,0,0.4);
}

/* WHITE KEYS */
.white-keys {
  display: flex;
  height: 260px;
}

.key.white {
  width: 60px;
  background: linear-gradient(to bottom, #ffffff, #e6e6e6);
  border: 1px solid #ccc;
  border-radius: 0 0 8px 8px;
  margin: 0 2px;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  font-weight: bold;
  font-size: 14px;
  cursor: pointer;
  padding-bottom: 10px;
  user-select: none;
  transition: all 0.08s ease;
}

/* BLACK KEYS */
.black-keys {
  position: absolute;
  top: 16px;
  left: 16px;
  height: 160px;
  pointer-events: none;
}

.key.black {
  position: absolute;
  width: 38px;
  height: 160px;
  background: linear-gradient(to bottom, #000, #444);
  border-radius: 0 0 6px 6px;
  color: #fff;
  font-size: 10px;
  cursor: pointer;
  pointer-events: auto;
  padding-bottom: 6px;
  z-index: 10;
  transition: all 0.08s ease;
}

/* HIGHLIGHT */
.key.white.active {
  background: linear-gradient(to bottom, #cde6ff, #9ecbff);
  transform: translateY(2px);
}

.key.black.active {
  background: linear-gradient(to bottom, #555, #222);
  transform: translateY(2px);
}
</style>
</head>

<body>

<div class="wrapper">
  <h1>Piano Game</h1>
  <div class="subtitle">
    Belajar nada musik dengan cara menyenangkan
  </div>

  <button class="start-btn" onclick="location.href='game.html'">
    â–¶ START GAME
  </button>

  <div class="piano">

    <!-- NOT HITAM -->
    <div class="black-keys">
      <div class="key black" style="left:109px" data-note="C#4">#</div>
      <div class="key black" style="left:173px" data-note="D#4">#</div>
      <div class="key black" style="left:301px" data-note="F#4">#</div>
      <div class="key black" style="left:366px" data-note="G#4">#</div>
      <div class="key black" style="left:430px" data-note="A#4">#</div>

      <div class="key black" style="left:555px" data-note="C#5">#</div>
      <div class="key black" style="left:625px" data-note="D#5">#</div>
      <div class="key black" style="left:749px" data-note="F#5">#</div>
      <div class="key black" style="left:814px" data-note="G#5">#</div>
      <div class="key black" style="left:878px" data-note="A#5">#</div>
    </div>

    <!-- NOT PUTIH -->
    <div class="white-keys">
      <div class="key white" data-note="B3">B3</div>
      <div class="key white" data-note="C4">1</div>
      <div class="key white" data-note="D4">2</div>
      <div class="key white" data-note="E4">3</div>
      <div class="key white" data-note="F4">4</div>
      <div class="key white" data-note="G4">5</div>
      <div class="key white" data-note="A4">6</div>
      <div class="key white" data-note="B4">7</div>

      <div class="key white" data-note="C5">1</div>
      <div class="key white" data-note="D5">2</div>
      <div class="key white" data-note="E5">3</div>
      <div class="key white" data-note="F5">4</div>
      <div class="key white" data-note="G5">5</div>
      <div class="key white" data-note="A5">6</div>
      <div class="key white" data-note="B5">7</div>

      <div class="key white" data-note="C6">C6</div>
    </div>
  </div>
</div>

<script>
const AudioContext = window.AudioContext || window.webkitAudioContext;
const audioCtx = new AudioContext();

const frequencies = {
  B3:246.94,
  C4:261.63,'C#4':277.18,D4:293.66,'D#4':311.13,E4:329.63,
  F4:349.23,'F#4':369.99,G4:392,'G#4':415.3,A4:440,
  'A#4':466.16,B4:493.88,
  C5:523.25,'C#5':554.37,D5:587.33,'D#5':622.25,E5:659.25,
  F5:698.46,'F#5':739.99,G5:783.99,'G#5':830.61,A5:880,
  'A#5':932.33,B5:987.77,
  C6:1046.5
};

function playNote(note){
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type='sine';
  osc.frequency.value=frequencies[note];
  osc.connect(gain);
  gain.connect(audioCtx.destination);
  gain.gain.setValueAtTime(2,audioCtx.currentTime);
  gain.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+0.8);
  osc.start();
  osc.stop(audioCtx.currentTime+0.8);
}

function highlight(note){
  const key=document.querySelector(`.key[data-note="${note}"]`);
  if(!key) return;
  key.classList.add('active');
  setTimeout(()=>key.classList.remove('active'),150);
}

document.querySelectorAll('.key').forEach(k=>{
  k.addEventListener('mousedown',()=>{
    playNote(k.dataset.note);
    highlight(k.dataset.note);
  });
});
</script>

</body>
</html>