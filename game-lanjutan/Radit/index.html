<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PDF Shorter</title>
  <link rel="stylesheet" href="./assets/style.css" />
</head>
<body>
  <main class="wrap">
    <section class="card">
      <div class="top">
        <div>
          <div class="badge"><span class="dot"></span> PDF Shorter</div>
          <h1>PDF Resizer / Compressor</h1>
          <p>Kompress PDF langsung di browser (client-side). Output diraster (gambar).</p>
        </div>
      </div>

      <div class="grid">
        <div class="panel">
          <h2>Compress</h2>
          <p class="sub">Pilih PDF → atur scale & quality → compress → download.</p>

          <label>Pilih PDF</label>
          <input id="pdfFile" type="file" accept="application/pdf" />

          <label>Render Scale</label>
          <input id="scale" type="range" min="0.6" max="2.0" step="0.1" value="1.0" />
          <small>Scale: <span id="scaleVal">1.0</span>x</small>

          <label>JPEG Quality</label>
          <input id="quality" type="range" min="0.35" max="0.95" step="0.05" value="0.75" />
          <small>Quality: <span id="qualityVal">0.75</span></small>

          <div class="row">
            <button id="compressBtn" class="primary" type="button">Compress</button>
            <button id="downloadBtn" disabled type="button">Download</button>
          </div>

          <div id="pdfProgress" class="progress">Ready.</div>

          <div class="note">
            Catatan: metode ini meraster halaman → teks/vector bisa jadi tidak selectable.
            Cocok untuk PDF scan / banyak gambar.
          </div>
        </div>

        <div class="panel">
          <h2>Tips</h2>
          <div class="out" style="min-height:auto">
- Ukuran kecil: scale 0.8–1.0 + quality 0.55–0.70
- Tetap jelas: scale 1.2–1.5 + quality 0.75–0.85
- Kalau file masih besar: turunkan scale dulu, baru turunkan quality
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- pdf.js UMD -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <!-- pdf-lib -->
  <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>

  <script src="./assets/pdf.js"></script>
</body>
</html>
